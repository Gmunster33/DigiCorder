<!DOCTYPE html>

{% extends 'AutoRecorder/bootbase.html' %}

{% block title %}Recorder Dashboard{% endblock %}

{% block content %}

<script type="text/javascript">
    var url = `ws://${window.location.host}/ws/socket-server/`
    console.log(url)
    
    const chatSocket = new WebSocket(url)

    // chatSocket.onmessage = function(e){
    //     let data = JSON.parse(e.data)
    //     console.log('Data: ', data)

    //     if(data.type === 't6Update'){

    //     let T6s = document.getElementById('T6s')
    //         removeAllChildNodes(T6s)
    //         T6s.insertAdjacentHTML('beforeend', `<div>
    //                                     <p>${data.message}</p>
    //                                 </div>`)
    //     }
    // }

    function removeAllChildNodes(parent) {
        if(parent != null) {
            if(parent.firstChild != null){
                while (parent.firstChild) {
                    parent.removeChild(parent.firstChild);
                }
            }
        }
    }

</script>
        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h4 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    KEND 17L -- T-6s
                </button>
                </h4>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    {% if True %}
                        {% include 'AutoRecorder/KEND17L-Tables.html' %}
                        <script> loadKEND17L(chatSocket) </script>
                    {% endif %}
                </div>
                </div>
            </div>
            <div class="accordion-item">
                <h4 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    KEND 35R -- T-6s
                </button>
                </h4>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                <div class="accordion-body" id="KEND 35R -- T-6s">
                    {% if True %}
                        {% include 'AutoRecorder/KEND35R-Tables.html' %}
                        <script> loadKEND35R(chatSocket) </script>
                    {% endif %}
                </div>
                </div>
            </div>
            <div class="accordion-item">
                <h4 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    KEND 35L -- T-38s
                </button>
                </h4>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                {% if True %}
                    {% include 'AutoRecorder/KEND35L-Tables.html' %}
                    <script> loadKEND35L(chatSocket) </script>
                {% endif %}
                </div>
                </div>
            </div>
            <div class="accordion-item">
                <h4 class="accordion-header" id="headingFour">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                    KEND 17R -- T-38s
                </button>
                </h4>
                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    {% if True %}
                        {% include 'AutoRecorder/KEND17R-Tables.html' %}
                        <script> loadKEND17R(chatSocket) </script>
                    {% endif %}
                </div>
                </div>
            </div>
        </div>

        <div id="messages"></div>
        <div id="T6s"></div>

{% endblock %}

